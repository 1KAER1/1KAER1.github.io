<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 4px;
        padding: 0px;
      }
    </style>
  </head>
  <body>
    <a href="index.html">GO BACK</a>
    </br>
    <canvas id="KacperCanvas" width="800" height="600"></canvas>
    <script>
 
        var canvas = document.getElementById("KacperCanvas");
        var c = canvas.getContext("2d");
        var ballRadius = 40;
        var circleRadius = 10
        var x = canvas.width/2;
        var y = canvas.height-30;
        var dx = 2;
        var dy = -2;
        var rectangleHeight = 50;
        var rectangleWidth = 50;
        var rectangleX = (canvas.width-rectangleWidth)/2;
        var rightPressed = false;
        var leftPressed = false;
        var spacePressed = false;
       

        document.addEventListener("keydown", keyDownHandler, false);
        document.addEventListener("keyup", keyUpHandler, false);

        function keyDownHandler(e) {
            if(e.keyCode == 39) {
                rightPressed = true;
            }
            else if(e.keyCode == 37) {
                leftPressed = true;
            }
            else if(e.keyCode == 32)
            {
                spacePressed = true;
            }
        }
        function keyUpHandler(e) {
            if(e.keyCode == 39) {
                rightPressed = false;
            }
            else if(e.keyCode == 37) {
                leftPressed = false;
            }
            else if(e.keyCode == 32)
            {
                spacePressed = false;
            }
        }

        function drawRectangle() {
            c.beginPath();
            c.rect(rectangleX, canvas.height-rectangleHeight, rectangleWidth, rectangleHeight);
            c.fillStyle = "#c40000";
            c.fill();
            c.closePath();
        }

        function draw() {
            c.clearRect(0, 0, canvas.width, canvas.height);
            drawRectangle();
            
            if(x + dx > canvas.width-ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if(y + dy > canvas.height-ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
            
            if(rightPressed && rectangleX < canvas.width-rectangleWidth) {
                rectangleX += 7;
            }
            else if(leftPressed && rectangleX > 0) {
                rectangleX -= 7;
            }
            
            x += dx;
            y += dy;
        }

        setInterval(draw, 10);
        

   </script>
  </body>
</html> 